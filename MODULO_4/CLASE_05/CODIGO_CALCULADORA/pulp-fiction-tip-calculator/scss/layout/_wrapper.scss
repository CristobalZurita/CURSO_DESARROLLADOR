// ============================================================
// layout/_wrapper.scss
// Estructura macro de la página – grid principal
// ============================================================

.app {
  position: relative;
  min-height: 100vh;
  width: 100%;
  overflow: hidden;
  @include flex-center;

  // Fondo: textura de grano cinematográfico
  &::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
    z-index: $z-bg;
    pointer-events: none;
  }

  // Línea escaneo (efecto cine)
  &::after {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, rgba($c-yellow, .08), transparent);
    animation: scanline 6s linear infinite;
    z-index: $z-overlay;
    pointer-events: none;
  }
}

// Grid 3 columnas en desktop
.stage {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    "header"
    "main"
    "footer";
  width: 100%;
  min-height: 100vh;
  padding: $sp-4;

  @include respond-to(md) {
    grid-template-columns: 220px 1fr 220px;
    grid-template-rows: auto 1fr;
    grid-template-areas:
      "header  header  header"
      "char-l  main    char-r";
    padding: 0;
    min-height: 100vh;
  }

  @include respond-to(lg) {
    grid-template-columns: 280px 1fr 280px;
  }

  @include respond-to(xl) {
    grid-template-columns: 340px 1fr 340px;
  }
}

// Zona central del calculador
.stage__main {
  grid-area: main;
  @include flex-center;
  padding: $sp-6 $sp-4;
  z-index: $z-card;
}

// Zona personajes
.stage__char-left  { grid-area: char-l; }
.stage__char-right { grid-area: char-r; }
