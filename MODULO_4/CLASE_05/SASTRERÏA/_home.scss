// ================================================================
// pages/_home.scss
// Todas las secciones de la home
// ================================================================
@use '../abstracts/variables' as v;
@use '../abstracts/mixins' as m;

// ---- CONTENEDOR GLOBAL ----
.wrap {
  max-width: 1320px; margin: 0 auto;
  padding-left: v.$sp-8; padding-right: v.$sp-8;
  @media (max-width: v.$bp-sm) { padding-left: v.$sp-5; padding-right: v.$sp-5; }
}

// ---- ENCABEZADO DE SECCIÓN ----
.sec-head {
  margin-bottom: v.$sp-12;

  &--center { text-align: center; p { margin: 0 auto; } }

  .eyebrow { margin-bottom: v.$sp-3; display: block; }
  h2 { margin-bottom: v.$sp-4; }
  p  { max-width: 520px; font-size: v.$fs-18; }
}

// ---- SECCIÓN BASE ----
.sec {
  @include m.section-spacing;

  &--sand  { background: v.$c-sand; }
  &--light { background: v.$c-sand-light; }
  &--dark  {
    background: v.$c-indigo;
    .sec-head h2  { color: #fff; }
    .sec-head p   { color: rgba(255,255,255,.6); }
    .eyebrow      { color: v.$c-terra-soft; }
  }
}

// ============================================================
// SECCIÓN: CÓMO FUNCIONA
// ============================================================
.sec-how {
  position: relative; overflow: hidden;

  &::before {
    content: '';
    position: absolute; top: -80px; right: -80px;
    width: 360px; height: 360px; border-radius: 50%;
    background: rgba(v.$c-mustard, 0.05);
    pointer-events: none;
  }

  &__grid {
    @include m.grid(4, v.$sp-5);
    @media (max-width: v.$bp-lg) { @include m.grid(2, v.$sp-5); }
    @media (max-width: v.$bp-sm) { @include m.grid(1, v.$sp-5); }
  }
}

// ============================================================
// SECCIÓN: CATÁLOGO DE TELAS
// ============================================================
.sec-catalog {
  &__filters {
    @include m.flex(row, center, flex-start, v.$sp-2);
    flex-wrap: wrap; margin-bottom: v.$sp-8;
  }

  &__filter-btn {
    @include m.btn-reset;
    font-size: v.$fs-13; font-weight: 600; letter-spacing: 0.02em;
    padding: v.$sp-2 v.$sp-4; border-radius: v.$r-full;
    border: 1.5px solid rgba(255,255,255,0.2);
    color: rgba(255,255,255,.6);
    transition: all v.$ease-base;

    &.active, &:hover {
      background: v.$c-terra; border-color: v.$c-terra; color: #fff;
    }
  }

  &__grid {
    @include m.grid(4, v.$sp-4);
    @media (max-width: v.$bp-lg) { @include m.grid(2, v.$sp-4); }
    @media (max-width: v.$bp-sm) { @include m.grid(1, v.$sp-4); }
  }
}

// ============================================================
// SECCIÓN: GUÍA DE TONOS DE PIEL
// ============================================================
.sec-skin {
  &__grid {
    @include m.grid(3, v.$sp-6);
    @media (max-width: v.$bp-lg) { @include m.grid(2, v.$sp-5); }
    @media (max-width: v.$bp-sm) { @include m.grid(1, v.$sp-5); }
  }

  &__cta-box {
    margin-top: v.$sp-12;
    background: v.$c-indigo;
    border-radius: v.$r-2xl;
    padding: v.$sp-12 v.$sp-8;
    text-align: center;
    position: relative; overflow: hidden;

    &::before {
      content: '';
      position: absolute; inset: 0;
      background-image:
        repeating-linear-gradient(45deg,
          rgba(255,255,255,.025) 0, rgba(255,255,255,.025) 1px,
          transparent 1px, transparent 10px
        );
    }

    h3 { font-family: v.$font-serif; font-size: v.$fs-28; color: #fff; margin-bottom: v.$sp-3; position: relative; z-index: 1; }
    p  { color: rgba(255,255,255,.65); margin: 0 auto v.$sp-6; max-width: 420px; position: relative; z-index: 1; }
    div { position: relative; z-index: 1; @include m.flex(row, center, center, v.$sp-3); flex-wrap: wrap; }
  }
}

// ============================================================
// SECCIÓN: SASTRES
// ============================================================
.sec-sastres {
  &__grid {
    @include m.grid(3, v.$sp-6);
    @media (max-width: v.$bp-lg) { @include m.grid(2, v.$sp-5); }
    @media (max-width: v.$bp-sm) { @include m.grid(1, v.$sp-5); }
  }
  &__more { text-align: center; margin-top: v.$sp-10; }
}

// ============================================================
// SECCIÓN: FORMULARIOS DUALES
// ============================================================
.sec-forms {
  @include m.woven-bg(v.$c-sand, v.$c-umber, 5px);

  &__inner {
    background: v.$c-white;
    border-radius: v.$r-2xl;
    border: 1px solid v.$c-linen;
    box-shadow: v.$shadow-xl;
    padding: v.$sp-12;
    position: relative; overflow: hidden;

    @media (max-width: v.$bp-sm) { padding: v.$sp-8 v.$sp-5; }

    &::before {
      content: '';
      position: absolute; top: -60px; right: -60px;
      width: 200px; height: 200px; border-radius: 50%;
      background: rgba(v.$c-terra, 0.04);
      pointer-events: none;
    }
  }
}

// ============================================================
// SECCIÓN: BANNER CTA
// ============================================================
.sec-banner {
  padding: v.$sp-8 0;

  &__box {
    background: v.$c-terra;
    border-radius: v.$r-2xl;
    padding: v.$sp-16 v.$sp-8;
    text-align: center;
    position: relative; overflow: hidden;

    &::before {
      content: '';
      position: absolute; top: -50px; left: -50px;
      width: 220px; height: 220px; border-radius: 50%;
      background: rgba(255,255,255,0.06);
    }
    &::after {
      content: '';
      position: absolute; bottom: -40px; right: -40px;
      width: 180px; height: 180px; border-radius: 50%;
      background: rgba(0,0,0,0.08);
    }

    h2 {
      font-family: v.$font-serif;
      font-size: clamp(2rem, 4.5vw, 3.2rem);
      color: #fff; margin-bottom: v.$sp-4;
      position: relative; z-index: 1;
    }
    p {
      color: rgba(255,255,255,.8); font-size: v.$fs-18;
      max-width: 460px; margin: 0 auto v.$sp-8;
      position: relative; z-index: 1;
    }
    div { @include m.flex(row, center, center, v.$sp-4); flex-wrap: wrap; position: relative; z-index: 1; }
  }
}

// ---- UTILIDADES FADE ----
.fade-up {
  opacity: 0; transform: translateY(28px);
  transition: opacity .65s v.$ease-out, transform .65s v.$ease-out;
  &.in { opacity: 1; transform: translateY(0); }
}
.delay-1 { transition-delay: .08s; }
.delay-2 { transition-delay: .16s; }
.delay-3 { transition-delay: .24s; }
.delay-4 { transition-delay: .32s; }

// ---- TOAST ----
.toast {
  position: fixed; bottom: v.$sp-6; right: v.$sp-6;
  z-index: v.$z-toast;
  background: v.$c-indigo; color: #fff;
  padding: v.$sp-3 v.$sp-5;
  border-radius: v.$r-lg; box-shadow: v.$shadow-xl;
  font-size: v.$fs-14; font-weight: 500;
  @include m.flex(row, center, flex-start, v.$sp-3);
  transform: translateY(80px); opacity: 0;
  transition: all v.$ease-spring;
  max-width: 320px;

  &.show { transform: translateY(0); opacity: 1; }
  &__ico { font-size: 1.1rem; }
  &--ok   { border-left: 3px solid v.$c-sage; }
  &--err  { border-left: 3px solid v.$c-terra; }
  &--inf  { border-left: 3px solid v.$c-mustard; }
}

// ---- SCROLL TOP ----
.scroll-top {
  position: fixed; bottom: v.$sp-6; left: v.$sp-6;
  width: 42px; height: 42px; border-radius: 50%;
  background: v.$c-indigo; color: #fff; border: none;
  cursor: pointer; @include m.flex-center;
  font-size: v.$fs-16; box-shadow: v.$shadow-md;
  opacity: 0; transform: translateY(8px);
  transition: all v.$ease-base; z-index: v.$z-fixed;

  &.on { opacity: 1; transform: translateY(0); }
  &:hover { background: v.$c-terra; transform: translateY(-2px); }
}

// ---- DIVIDER ----
.divider {
  @include m.flex(row, center, center, v.$sp-4);
  font-family: v.$font-mono; font-size: v.$fs-11;
  letter-spacing: 0.14em; text-transform: uppercase;
  color: v.$c-umber-soft; margin: v.$sp-6 0;
  &::before, &::after { content: ''; flex: 1; height: 1px; background: v.$c-sand-dark; }
}

// ---- GROUP ERROR ----
.group-err { color: v.$c-terra; font-size: v.$fs-12; font-weight: 600; margin-top: v.$sp-2; }
