// ================================================================
// components/_buttons.scss
// ================================================================
@use '../abstracts/variables' as v;
@use '../abstracts/mixins' as m;

.btn {
  @include m.btn-reset;
  @include m.flex(row, center, center, v.$sp-2);
  font-size: v.$fs-14;
  font-weight: 600;
  letter-spacing: 0.02em;
  padding: v.$sp-3 v.$sp-6;
  border-radius: v.$r-full;
  transition: all v.$ease-base;
  white-space: nowrap;
  position: relative;
  overflow: hidden;
  @include m.focus-ring;

  // shimmer on active
  &::after { content: ''; position: absolute; inset: 0; background: rgba(255,255,255,0.12); opacity: 0; transition: opacity v.$ease-base; }
  &:active::after { opacity: 1; }

  &--terra {
    background: v.$c-terra; color: #fff;
    box-shadow: 0 4px 16px rgba(v.$c-terra, 0.32);
    &:hover { background: v.$c-terra-dark; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(v.$c-terra, 0.42); }
    &:active { transform: translateY(0); }
  }

  &--indigo {
    background: v.$c-indigo; color: #fff;
    box-shadow: 0 4px 16px rgba(v.$c-indigo, 0.28);
    &:hover { background: v.$c-indigo-mid; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(v.$c-indigo, 0.38); }
  }

  &--mustard {
    background: v.$c-mustard; color: v.$c-indigo;
    box-shadow: 0 4px 16px rgba(v.$c-mustard, 0.35);
    &:hover { background: v.$c-mustard-dark; color: #fff; transform: translateY(-2px); }
  }

  &--outline {
    background: transparent; color: v.$c-indigo;
    border: 1.5px solid v.$c-linen;
    &:hover { border-color: v.$c-indigo; background: rgba(v.$c-indigo, 0.04); transform: translateY(-1px); }
  }

  &--outline-light {
    background: transparent; color: #fff;
    border: 1.5px solid rgba(255,255,255,0.35);
    &:hover { border-color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.08); }
  }

  &--ghost {
    background: rgba(v.$c-terra, 0.08); color: v.$c-terra;
    &:hover { background: rgba(v.$c-terra, 0.15); }
  }

  &--sm { padding: v.$sp-2 v.$sp-4; font-size: v.$fs-12; }
  &--lg { padding: v.$sp-4 v.$sp-8; font-size: v.$fs-16; }
  &--full { width: 100%; justify-content: center; }

  &:disabled, &--disabled { opacity: 0.4; pointer-events: none; }

  &--loading {
    pointer-events: none;
    color: transparent !important;
    &::before {
      content: '';
      position: absolute;
      width: 18px; height: 18px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin .65s linear infinite;
    }
  }
  @keyframes spin { to { transform: rotate(360deg); } }
}
