@charset "UTF-8";
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: "Crimson Pro", "Times New Roman", serif;
  font-size: 1rem;
  color: #3D2B1F;
  background-color: #FAF3E0;
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
}

h1, h2, h3, h4, h5, h6 {
  font-family: "Playfair Display", Georgia, serif;
  line-height: 1.2;
  color: #3D2B1F;
}

a {
  color: #4A6741;
  text-decoration: none;
  transition: color 0.15s ease;
}
a:hover {
  color: #D4A056;
}

button {
  cursor: pointer;
  border: none;
  background: none;
  font-family: inherit;
}

input, textarea, select {
  font-family: "Crimson Pro", "Times New Roman", serif;
  font-size: 1rem;
}

ul {
  list-style: none;
}

img, svg {
  display: block;
  max-width: 100%;
}

body {
  font-family: "Crimson Pro", "Times New Roman", serif;
  font-weight: 300;
  font-size: 1rem;
  line-height: 1.7;
}

h1 {
  font-size: 3.5rem;
  font-weight: 700;
}

h2 {
  font-size: 2rem;
  font-weight: 700;
}

h3 {
  font-size: 1.5rem;
  font-weight: 600;
}

h4 {
  font-size: 1.25rem;
  font-weight: 600;
}

p {
  margin-bottom: 1rem;
}

p:last-child {
  margin-bottom: 0;
}

strong {
  font-weight: 600;
}

em {
  font-style: italic;
}

.text-muted {
  color: #8B6F47;
}

.text-accent {
  color: #D4A056;
}

.text-center {
  text-align: center;
}

.text-sm {
  font-size: 0.875rem;
}

.text-lg {
  font-size: 1.25rem;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@keyframes sprout {
  0% {
    transform: scale(0) rotate(-10deg);
    opacity: 0;
  }
  60% {
    transform: scale(1.12) rotate(2deg);
    opacity: 1;
  }
  80% {
    transform: scale(0.95) rotate(-1deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}
@keyframes growLine {
  from {
    transform: scaleY(0);
  }
  to {
    transform: scaleY(1);
  }
}
@keyframes growLineH {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}
@keyframes leafSway {
  0%, 100% {
    transform: rotate(-2deg);
  }
  50% {
    transform: rotate(2deg);
  }
}
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(74, 103, 65, 0);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(74, 103, 65, 0.15);
  }
}
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}
@keyframes bgLeafFall {
  0% {
    transform: translateY(-10%) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}
@keyframes toastIn {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
@keyframes toastOut {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(20px);
    opacity: 0;
  }
}
.animate-sprout {
  animation: sprout 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.animate-fade-in {
  animation: fadeIn 0.5s ease both;
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease both;
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

.animate-leaf-sway {
  animation: leafSway 3s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.screen {
  display: none;
  min-height: 100vh;
  width: 100%;
}
.screen--active {
  display: flex;
  flex-direction: column;
  animation: fadeIn 0.5s ease;
}

:root {
  --main-nav-height: 140px;
}

body {
  padding-top: var(--main-nav-height);
}

.main-navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  border-bottom: 1px solid rgba(61, 43, 31, 0.16);
  box-shadow: 0 8px 24px rgba(61, 43, 31, 0.16);
  backdrop-filter: blur(8px);
  background: rgba(250, 243, 224, 0.95);
}
.main-navbar__inner {
  width: min(1320px, 100vw - 2rem);
  margin: 0 auto;
  padding: 0.75rem 0;
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 1rem;
}
.main-navbar__brand {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  gap: 0.75rem;
  color: #3D2B1F;
  min-width: max-content;
}
.main-navbar__icon {
  font-size: 2rem;
  animation: leafSway 4s ease-in-out infinite;
}
.main-navbar__brand-text {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 2px;
}
.main-navbar__brand-title {
  font-family: "Playfair Display", Georgia, serif;
  font-size: 1.5rem;
  font-style: italic;
  line-height: 1;
  color: #3D2B1F;
}
.main-navbar__brand-subtitle {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #8B6F47;
  line-height: 1;
}
.main-navbar__auth {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: stretch;
  gap: 0.5rem;
}
.main-navbar__fields {
  display: grid;
  grid-template-columns: repeat(2, minmax(170px, 220px));
  justify-content: end;
  gap: 0.5rem;
}
.main-navbar__field {
  gap: 3px;
}
.main-navbar__label {
  font-size: 0.58rem;
  color: rgba(139, 111, 71, 0.95);
  letter-spacing: 0.06em;
}
.main-navbar__input {
  min-height: 34px;
  padding: 0.4rem 0.65rem;
  font-size: 0.83rem;
  border-color: rgba(61, 43, 31, 0.2);
  background: rgba(245, 237, 214, 0.95);
}
.main-navbar__actions {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}
.main-navbar__button {
  min-height: 34px;
}
.main-navbar__meta {
  text-align: right;
}
.main-navbar__status {
  margin: 0;
  font-size: 0.75rem;
  line-height: 1.3;
  color: #8B6F47;
}
.main-navbar__status-highlight {
  color: #4A6741;
  font-weight: 600;
}
.main-navbar__micro {
  margin: 0;
  font-size: 0.68rem;
  color: rgba(139, 111, 71, 0.9);
  line-height: 1.25;
}
.main-navbar__credential {
  color: #4A6741;
  font-weight: 700;
}

@media (max-width: 1024px) {
  :root {
    --main-nav-height: 168px;
  }
  .main-navbar__inner {
    width: min(1320px, 100vw - 1.5rem);
    grid-template-columns: 1fr;
    align-items: flex-start;
    gap: 0.75rem;
  }
  .main-navbar__auth {
    width: 100%;
  }
  .main-navbar__fields {
    justify-content: start;
  }
  .main-navbar__actions {
    justify-content: flex-start;
  }
  .main-navbar__meta {
    text-align: left;
  }
}
@media (max-width: 768px) {
  :root {
    --main-nav-height: 236px;
  }
  .main-navbar__fields {
    width: 100%;
    grid-template-columns: 1fr;
  }
  .main-navbar__actions {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    gap: 0.5rem;
  }
  .main-navbar__button {
    width: 100%;
    justify-content: center;
  }
}
.tree-header {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background: rgba(250, 243, 224, 0.92);
  border-bottom: 1px solid rgba(61, 43, 31, 0.15);
  backdrop-filter: blur(8px);
  position: sticky;
  top: var(--main-nav-height, 0px);
  z-index: 50;
  box-shadow: 0 2px 8px rgba(61, 43, 31, 0.12);
}
.tree-header__left {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  gap: 0.75rem;
}
.tree-header__icon {
  font-size: 2rem;
  animation: leafSway 4s ease-in-out infinite;
  display: block;
}
.tree-header__title {
  font-size: 1.5rem;
  font-family: "Playfair Display", Georgia, serif;
  font-style: italic;
  color: #3D2B1F;
  margin-bottom: 0;
}
.tree-header__user {
  font-size: 0.875rem;
  color: #8B6F47;
  margin-bottom: 0;
}
.tree-header__user-name {
  color: #4A6741;
  font-weight: 600;
}
.tree-header__right {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  gap: 1rem;
}
.tree-header__info {
  font-size: 0.875rem;
  color: #8B6F47;
  font-style: italic;
}
@media (max-width: 768px) {
  .tree-header {
    padding: 0.75rem 1rem;
  }
  .tree-header__info {
    display: none;
  }
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 12px;
  font-family: "Crimson Pro", "Times New Roman", serif;
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: 0.02em;
  transition: all 0.3s ease;
  cursor: pointer;
  border: none;
  text-decoration: none;
  position: relative;
  overflow: hidden;
}
.btn::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.15);
  opacity: 0;
  transition: opacity 0.15s ease;
}
.btn:hover::after {
  opacity: 1;
}
.btn:active {
  transform: scale(0.98);
}
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.btn:disabled:hover::after {
  opacity: 0;
}
.btn--primary {
  background: linear-gradient(135deg, #6B8F5E, #4A6741);
  color: #fff;
  box-shadow: 0 4px 16px rgba(74, 103, 65, 0.35);
}
.btn--primary:hover {
  background: linear-gradient(135deg, rgb(119.2405063291, 156.835443038, 105.664556962), rgb(85.2321428571, 118.6339285714, 74.8660714286));
  box-shadow: 0 6px 24px rgba(74, 103, 65, 0.45);
  transform: translateY(-2px);
}
.btn--secondary {
  background: #E8D5A3;
  color: #3D2B1F;
  border: 1px solid rgba(61, 43, 31, 0.15);
}
.btn--secondary:hover {
  background: rgb(226.9, 203.6869565217, 142.6);
  transform: translateY(-2px);
}
.btn--ghost {
  background: transparent;
  color: #5C3D2E;
  border: 1px solid rgba(61, 43, 31, 0.15);
}
.btn--ghost:hover {
  background: rgba(61, 43, 31, 0.08);
  color: #3D2B1F;
}
.btn--accent {
  background: linear-gradient(135deg, rgb(222.3443396226, 182.8537735849, 126.6556603774), #D4A056);
  color: #3D2B1F;
  box-shadow: 0 4px 16px rgba(212, 160, 86, 0.3);
}
.btn--accent:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(212, 160, 86, 0.4);
}
.btn--add {
  background: linear-gradient(135deg, #B5D99C, #8DB87A);
  color: #3D2B1F;
  font-size: 0.875rem;
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(61, 43, 31, 0.12);
  font-weight: 600;
}
.btn--add:hover {
  transform: scale(1.08);
  box-shadow: 0 4px 20px rgba(61, 43, 31, 0.18);
}
.btn--sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}
.btn--lg {
  padding: 1rem 2rem;
  font-size: 1.25rem;
}
.btn--full {
  width: 100%;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex: 1;
}

.form-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #8B6F47;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-family: "Crimson Pro", "Times New Roman", serif;
}

.form-control {
  padding: 0.75rem 1rem;
  border: 1.5px solid rgba(61, 43, 31, 0.15);
  border-radius: 6px;
  background: rgba(245, 237, 214, 0.8);
  color: #3D2B1F;
  font-size: 1rem;
  font-family: "Crimson Pro", "Times New Roman", serif;
  transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
  outline: none;
}
.form-control::placeholder {
  color: rgba(139, 111, 71, 0.5);
}
.form-control:focus {
  border-color: #4A6741;
  background: rgba(250, 243, 224, 0.95);
  box-shadow: 0 0 0 3px rgba(74, 103, 65, 0.12);
}
.form-control.input--error {
  border-color: #C0392B;
  background: rgba(192, 57, 43, 0.04);
}
.form-control.input--readonly {
  background: rgba(232, 213, 163, 0.5);
  color: #8B6F47;
  cursor: default;
}

.field-error {
  font-size: 0.875rem;
  color: #C0392B;
  display: none;
}
.field-error.visible {
  display: block;
}

.form-row {
  display: flex;
  gap: 1rem;
}
@media (max-width: 576px) {
  .form-row {
    flex-direction: column;
  }
}

.tree-node {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.tree-node::before {
  content: "";
  position: absolute;
  background: #8B6F47;
  opacity: 0.4;
  width: 2px;
  height: 30px;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  transform-origin: top center;
  animation: growLine 0.4s ease both;
}
.tree-node.node--root::before {
  display: none;
}

.node-card {
  min-width: 120px;
  max-width: 150px;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  text-align: center;
  cursor: default;
  position: relative;
  animation: sprout 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  user-select: none;
}
.node-card__name {
  font-family: "Playfair Display", Georgia, serif;
  font-size: 0.82rem;
  font-weight: 700;
  color: rgba(24, 193, 8, 0.8431372549);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.2;
  margin-bottom: 0.25rem;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
.node-card__age {
  font-size: 0.72rem;
  color: rgba(255, 255, 255, 0.85);
  font-style: italic;
  display: block;
  margin-bottom: 0.5rem;
}
.node-card__life {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 1px 6px;
  border-radius: 9999px;
  font-size: 0.58rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  border: 1px solid rgba(255, 255, 255, 0.4);
  margin-top: 2px;
}
.node-card__life--alive {
  background: rgba(119, 221, 119, 0.22);
  color: #ecffec;
  border-color: rgba(119, 221, 119, 0.45);
}
.node-card__life--dead {
  background: rgba(34, 34, 34, 0.24);
  color: rgba(245, 245, 245, 0.95);
  border-color: rgba(245, 245, 245, 0.35);
}
.node-card__relation {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(255, 255, 255, 0.7);
  display: block;
  margin-bottom: 0.5rem;
}
.node-card__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  justify-content: center;
  margin-top: 0.5rem;
}
.node-card__add-btn {
  font-size: 0.6rem;
  padding: 2px 6px;
  border-radius: 4px;
  background: rgba(61, 43, 31, 0.12);
  color: #3D2B1F;
  border: 1px solid rgba(61, 43, 31, 0.28);
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: "Crimson Pro", "Times New Roman", serif;
}
.node-card__add-btn:hover {
  background: rgba(61, 43, 31, 0.2);
  transform: scale(1.05);
}
.node-card--bisabuelo {
  background: linear-gradient(135deg, rgb(174.8936708861, 86.817721519, 23.9063291139), #8B4513);
  border: 2px solid rgb(94.1329113924, 46.7278481013, 12.8670886076);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--bisabuelo:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(49.2658227848, 24.4556962025, 6.7341772152, 0.35);
}
.node-card--abuelo {
  background: linear-gradient(135deg, rgb(130.9868131868, 151.7978021978, 71.0021978022), #6B7C3A);
  border: 2px solid rgb(77.0164835165, 89.2527472527, 41.7472527473);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--abuelo:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(47.032967033, 54.5054945055, 25.4945054945, 0.35);
}
.node-card--padre {
  background: linear-gradient(135deg, rgb(89.2484848485, 149.5515151515, 107.3393939394), #4A7C59);
  border: 2px solid rgb(54.9393939394, 92.0606060606, 66.0757575758);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--padre:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(35.8787878788, 60.1212121212, 43.1515151515, 0.35);
}
.node-card--yo {
  background: linear-gradient(135deg, rgb(57.1589403974, 134.6410596026, 100.3456953642), #2D6A4F);
  border: 2px solid rgb(29.8013245033, 70.1986754967, 52.3178807947);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--yo:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(14.6026490066, 34.3973509934, 25.6357615894, 0.35);
}
.node-card--yo {
  animation: sprout 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both, pulse-glow 3s ease-in-out 1s infinite;
  min-width: 140px;
  padding: 1rem 1.25rem;
}
.node-card--yo .node-card__name {
  font-size: 0.95rem;
}
.node-card--hijo .node-card__name, .node-card--nieto .node-card__name, .node-card--bisnieto .node-card__name {
  color: #3D2B1F;
  text-shadow: none;
}
.node-card--hijo .node-card__age, .node-card--nieto .node-card__age, .node-card--bisnieto .node-card__age {
  color: rgba(61, 43, 31, 0.78);
}
.node-card--hijo .node-card__relation, .node-card--nieto .node-card__relation, .node-card--bisnieto .node-card__relation {
  color: rgba(61, 43, 31, 0.7);
}
.node-card--hijo .node-card__life, .node-card--nieto .node-card__life, .node-card--bisnieto .node-card__life {
  border-color: rgba(61, 43, 31, 0.25);
}
.node-card--hijo .node-card__life--alive, .node-card--nieto .node-card__life--alive, .node-card--bisnieto .node-card__life--alive {
  color: rgb(51.5357142857, 71.7321428571, 45.2678571429);
  background: rgba(107, 143, 94, 0.2);
}
.node-card--hijo .node-card__life--dead, .node-card--nieto .node-card__life--dead, .node-card--bisnieto .node-card__life--dead {
  color: #3D2B1F;
  background: rgba(61, 43, 31, 0.1);
}
.node-card--hijo .node-card__add-btn, .node-card--nieto .node-card__add-btn, .node-card--bisnieto .node-card__add-btn {
  color: #3D2B1F;
  background: rgba(61, 43, 31, 0.12);
  border-color: rgba(61, 43, 31, 0.28);
}
.node-card--hijo .node-card__add-btn:hover, .node-card--nieto .node-card__add-btn:hover, .node-card--bisnieto .node-card__add-btn:hover {
  background: rgba(61, 43, 31, 0.2);
}
.node-card--hijo {
  background: linear-gradient(135deg, rgb(144.9346938776, 209.8653061224, 177.4), #74C69D);
  border: 2px solid rgb(79.8316326531, 183.1683673469, 131.5);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--hijo:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(61.6530612245, 150.3469387755, 106, 0.35);
}
.node-card--nieto {
  background: linear-gradient(135deg, rgb(178.2216216216, 224.5783783784, 199.227027027), #95D5B2);
  border: 2px solid rgb(112.472972973, 198.527027027, 151.4662162162);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--nieto:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(75.9459459459, 184.0540540541, 124.9324324324, 0.35);
}
.node-card--bisnieto {
  background: linear-gradient(135deg, rgb(212.6727272727, 239.1272727273, 222.0787878788), #B7E4C7);
  border: 2px solid rgb(145.9090909091, 214.0909090909, 170.1515151515);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(61, 43, 31, 0.25);
  color: #fff;
  position: relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.node-card--bisnieto:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 12px 32px rgba(108.8181818182, 200.1818181818, 141.303030303, 0.35);
}
.node-card--placeholder {
  min-width: 100px;
  max-width: 120px;
  padding: 0.75rem;
  border: 2px dashed rgba(139, 111, 71, 0.4);
  border-radius: 12px;
  background: rgba(245, 237, 214, 0.5);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  transition: all 0.3s ease;
  animation: fadeIn 0.4s ease both;
}
.node-card--placeholder:hover {
  border-color: #4A6741;
  background: rgba(74, 103, 65, 0.08);
  transform: scale(1.05);
}
.node-card--placeholder:hover .placeholder__icon {
  transform: scale(1.2);
}
.node-card--placeholder .placeholder__icon {
  font-size: 1.5rem;
  transition: transform 0.3s ease;
  display: block;
}
.node-card--placeholder .placeholder__label {
  font-size: 0.65rem;
  color: #8B6F47;
  text-align: center;
  line-height: 1.3;
  font-family: "Crimson Pro", "Times New Roman", serif;
}

.siblings-connector {
  width: 100%;
  height: 2px;
  background: rgba(139, 111, 71, 0.35);
  position: absolute;
  top: -30px;
  left: 0;
  transform-origin: left center;
  animation: growLineH 0.4s ease both;
}

.node-group {
  display: flex;
  flex-direction: row;
  gap: 24px;
  align-items: flex-start;
  position: relative;
  justify-content: center;
}

.gen-row {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}
.gen-row__label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(139, 111, 71, 0.6);
  margin-bottom: 0.5rem;
  font-family: "Crimson Pro", "Times New Roman", serif;
}

.node-add-row {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 0.5rem;
}
.node-add-row--compact {
  gap: 0.25rem;
  margin-top: 6px;
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(61, 43, 31, 0.55);
  backdrop-filter: blur(4px);
  z-index: 100;
  display: flex;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.25s ease;
}
.modal-overlay[hidden] {
  display: none;
}

.modal {
  background: rgba(255, 252, 240, 0.92);
  border: 1px solid rgba(61, 43, 31, 0.15);
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(61, 43, 31, 0.18);
  backdrop-filter: blur(8px);
  width: min(480px, 100vw - 2rem);
  max-height: 90vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  animation: sprout 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}
.modal__close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 32px;
  height: 32px;
  border-radius: 9999px;
  background: rgba(61, 43, 31, 0.08);
  color: #8B6F47;
  font-size: 1rem;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.15s ease;
  cursor: pointer;
  border: none;
}
.modal__close:hover {
  background: rgba(61, 43, 31, 0.15);
  color: #3D2B1F;
  transform: rotate(90deg);
}
.modal__header {
  text-align: center;
  margin-bottom: 1.5rem;
}
.modal__title {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
}
.modal__icon {
  font-size: 2.5rem;
  display: block;
  margin-bottom: 0.75rem;
  animation: float 3s ease-in-out infinite;
}
.modal__desc {
  color: #8B6F47;
  font-size: 0.875rem;
  font-style: italic;
}
.modal__body {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.calc-validation {
  border-radius: 6px;
  padding: 0.75rem 1rem;
  font-size: 0.875rem;
  font-style: italic;
  animation: fadeInUp 0.3s ease;
}
.calc-validation.valid {
  background: rgba(74, 103, 65, 0.1);
  border-left: 3px solid #4A6741;
  color: rgb(40.3035714286, 56.0982142857, 35.4017857143);
}
.calc-validation.invalid {
  background: rgba(192, 57, 43, 0.08);
  border-left: 3px solid #C0392B;
  color: rgb(150.3319148936, 44.629787234, 33.6680851064);
}
.calc-validation.warning {
  background: rgba(212, 160, 86, 0.1);
  border-left: 3px solid #D4A056;
  color: rgb(156.2452830189, 108.1698113208, 39.7547169811);
}
.calc-validation:empty {
  display: none;
}

.toast {
  position: fixed;
  bottom: 1.5rem;
  left: 50%;
  transform: translateX(-50%);
  background: #3D2B1F;
  color: #F5EDD6;
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-family: "Crimson Pro", "Times New Roman", serif;
  box-shadow: 0 8px 40px rgba(61, 43, 31, 0.22);
  z-index: 200;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.toast.toast--show {
  animation: toastIn 0.3s ease forwards;
  opacity: 1;
}
.toast.toast--hide {
  animation: toastOut 0.3s ease forwards;
}
.toast.toast--success {
  background: #4A6741;
}
.toast.toast--error {
  background: #C0392B;
}
.toast.toast--info {
  background: #5C3D2E;
}

#screen-welcome {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(160deg, #FAF3E0 0%, rgb(240.16, 227.9008695652, 195.64) 40%, rgb(230.5854014599, 242.4627737226, 222.3372262774) 100%);
  overflow: hidden;
}

.welcome__bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.welcome__leaves {
  position: absolute;
  inset: 0;
}
.welcome__leaves::before, .welcome__leaves::after {
  content: "üçÉ";
  position: absolute;
  font-size: 2.5rem;
  opacity: 0.15;
  animation: bgLeafFall 12s linear infinite;
}
.welcome__leaves::before {
  left: 15%;
  animation-delay: -4s;
  font-size: 3rem;
}
.welcome__leaves::after {
  left: 75%;
  animation-delay: -8s;
  font-size: 2rem;
}

.welcome__roots {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 200'%3E%3Cpath d='M0,200 Q150,120 300,180 T600,150 T900,170 T1200,140 L1200,200Z' fill='rgba(61,43,31,0.06)'/%3E%3Cpath d='M0,200 Q200,140 400,190 T800,160 T1200,180 L1200,200Z' fill='rgba(74,103,65,0.05)'/%3E%3C/svg%3E") center bottom/cover no-repeat;
}

.welcome__content {
  position: relative;
  z-index: 1;
  width: min(560px, 100vw - 2rem);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 2rem;
  padding: 2rem 0;
}

.welcome__brand {
  text-align: center;
  animation: fadeInUp 0.6s ease both;
  animation-delay: 0.1s;
}

.welcome__icon {
  font-size: 4rem;
  display: block;
  margin-bottom: 1rem;
  animation: float 4s ease-in-out infinite;
}

.welcome__title {
  font-size: 3.5rem;
  font-style: italic;
  color: #3D2B1F;
  line-height: 1;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 8px rgba(61, 43, 31, 0.1);
}

.welcome__subtitle {
  color: #8B6F47;
  font-size: 1.25rem;
  font-style: italic;
  margin-bottom: 0;
}

.calculator-card {
  background: rgba(255, 252, 240, 0.92);
  border: 1px solid rgba(61, 43, 31, 0.15);
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(61, 43, 31, 0.18);
  backdrop-filter: blur(8px);
  overflow: hidden;
  animation: fadeInUp 0.6s ease both;
  animation-delay: 0.3s;
}
.calculator-card__header {
  background: linear-gradient(135deg, #3D2B1F, #5C3D2E);
  padding: 1.5rem 2rem;
  color: #F5EDD6;
  text-align: center;
}
.calculator-card__badge {
  display: inline-block;
  background: rgba(212, 160, 86, 0.3);
  color: #D4A056;
  border: 1px solid rgba(212, 160, 86, 0.4);
  border-radius: 9999px;
  padding: 0.25rem 0.75rem;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-weight: 600;
  margin-bottom: 0.75rem;
}
.calculator-card__body {
  padding: 2rem;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 1.25rem;
}
.calculator-card--disabled {
  opacity: 0.7;
}

.calculator-card__title {
  color: #F5EDD6;
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

.calculator-card__lead {
  color: rgba(245, 237, 214, 0.75);
  font-style: italic;
  margin-bottom: 0;
}

.calculator-result {
  border-top: 1px solid rgba(61, 43, 31, 0.15);
  padding: 1.5rem 2rem;
  background: rgba(245, 237, 214, 0.5);
  animation: fadeInUp 0.5s ease;
}
.calculator-result[hidden] {
  display: none;
}

.result-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-bottom: 1rem;
}
@media (max-width: 576px) {
  .result-grid {
    grid-template-columns: 1fr;
  }
}

.result-item {
  text-align: center;
  padding: 0.75rem;
  background: rgba(250, 243, 224, 0.8);
  border-radius: 6px;
  border: 1px solid rgba(61, 43, 31, 0.15);
}

.result-label {
  display: block;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #8B6F47;
  margin-bottom: 0.25rem;
}

.result-value {
  display: block;
  font-family: "Playfair Display", Georgia, serif;
  font-size: 1.25rem;
  font-weight: 700;
  color: #4A6741;
}

.result-message {
  font-size: 0.875rem;
  font-style: italic;
  color: #8B6F47;
  text-align: center;
  margin-bottom: 0;
  line-height: 1.5;
}

body.body--modal-lock {
  overflow: hidden;
}

.minor-warning-overlay {
  position: fixed;
  inset: 0;
  z-index: 1200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
  background: rgba(61, 43, 31, 0.42);
  backdrop-filter: blur(7px);
  -webkit-backdrop-filter: blur(7px);
}
.minor-warning-overlay[hidden] {
  display: none;
}

.minor-warning-modal {
  width: min(680px, 100%);
  border-radius: 20px;
  border: 2px solid rgb(133.1223300971, 93.827184466, 32.0776699029);
  box-shadow: 0 24px 44px rgba(61, 43, 31, 0.4);
  background: linear-gradient(165deg, rgb(246, 238.8, 218.1) 0%, rgb(246.28, 239.0765217391, 220.12) 100%);
  padding: 2rem;
  color: #3D2B1F;
  text-align: left;
  animation: fadeInUp 0.35s ease;
}
.minor-warning-modal__eyebrow {
  margin: 0 0 0.5rem;
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0.03em;
  color: rgb(116.6834951456, 82.240776699, 28.1165048544);
  text-transform: uppercase;
}
.minor-warning-modal__note {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 6px;
  border: 1px solid rgba(166, 117, 40, 0.45);
  background: rgba(212, 160, 86, 0.2);
  font-weight: 600;
}
.minor-warning-modal__actions {
  margin-top: 1.5rem;
  display: flex;
  justify-content: flex-end;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.minor-warning-modal__title {
  margin: 0 0 1rem;
  font-family: "Playfair Display", Georgia, serif;
  font-size: clamp(2rem, 4.5vw, 2.8rem);
  line-height: 1.1;
  color: rgb(47.4739130435, 33.4652173913, 24.1260869565);
}

.minor-warning-modal__text {
  margin: 0;
  color: rgb(54.2369565217, 38.2326086957, 27.5630434783);
  font-size: clamp(1.12rem, 2.5vw, 1.28rem);
  line-height: 1.55;
}

.minor-warning-modal__button {
  min-width: 210px;
  justify-content: center;
  font-size: 0.875rem;
  font-weight: 700;
}

.admin-panel {
  position: fixed;
  inset: 0;
  z-index: 1150;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.5rem;
  background: rgba(61, 43, 31, 0.25);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}
.admin-panel[hidden] {
  display: none;
}
.admin-panel__card {
  width: min(860px, 100%);
  max-height: calc(100vh - 3rem);
  overflow: auto;
  border-radius: 20px;
  border: 1px solid rgba(61, 43, 31, 0.18);
  background: rgba(250, 243, 224, 0.96);
  box-shadow: 0 8px 40px rgba(61, 43, 31, 0.22);
  padding: 1.5rem;
}
.admin-panel__list {
  display: grid;
  gap: 0.75rem;
}

.admin-panel__title {
  margin-bottom: 0.5rem;
  color: #3D2B1F;
}

.admin-panel__lead {
  margin-bottom: 1rem;
  color: #8B6F47;
}

.admin-user {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 0.75rem;
  align-items: center;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(61, 43, 31, 0.15);
  background: rgba(245, 237, 214, 0.7);
}
.admin-user__meta {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 2px;
}
.admin-user__name {
  font-weight: 700;
  color: #3D2B1F;
}
.admin-user__desc {
  font-size: 0.875rem;
  color: #8B6F47;
}

#screen-tree {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  min-height: 100vh;
  background: linear-gradient(180deg, #FAF3E0 0%, rgb(236.0948905109, 245.2919708029, 229.7080291971) 100%);
}

.tree-workspace {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-start;
  flex: 1;
  overflow: hidden;
}

.tree-legend {
  width: 180px;
  min-width: 180px;
  padding: 1.5rem 1rem;
  background: rgba(250, 243, 224, 0.85);
  border-right: 1px solid rgba(61, 43, 31, 0.15);
  backdrop-filter: blur(6px);
  height: calc(100vh - 73px);
  position: sticky;
  top: 73px;
  overflow-y: auto;
}
@media (max-width: 768px) {
  .tree-legend {
    display: none;
  }
}

.tree-legend__title {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #8B6F47;
  margin-bottom: 1rem;
}

.tree-legend__list {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.tree-legend__item {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: #3D2B1F;
}

.gen-dot {
  width: 14px;
  height: 14px;
  border-radius: 3px;
  flex-shrink: 0;
}
.gen-dot.gen--bisabuelos {
  background: #8B4513;
}
.gen-dot.gen--abuelos {
  background: #6B7C3A;
}
.gen-dot.gen--padres {
  background: #4A7C59;
}
.gen-dot.gen--yo {
  background: #2D6A4F;
}
.gen-dot.gen--hijos {
  background: #74C69D;
}
.gen-dot.gen--nietos {
  background: #95D5B2;
}
.gen-dot.gen--bisnietos {
  background: #B7E4C7;
}

.tree-stats {
  padding-top: 1rem;
  border-top: 1px solid rgba(61, 43, 31, 0.15);
  font-size: 0.875rem;
  color: #8B6F47;
}

.tree-stats__value {
  color: #4A6741;
  font-weight: 600;
}

.tree-canvas {
  flex: 1;
  overflow: auto;
  padding: 2.5rem;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  background-image: radial-gradient(circle at 20% 80%, rgba(141, 184, 122, 0.06) 0%, transparent 60%), radial-gradient(circle at 80% 20%, rgba(139, 111, 71, 0.05) 0%, transparent 60%);
}

.tree-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
  min-width: max-content;
  padding-bottom: 2.5rem;
}

.tree-level {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}

.tree-ancestors {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}

.tree-descendants {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}

.tree-root-section {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin: 16px 0;
}

.v-connector {
  width: 2px;
  background: rgba(139, 111, 71, 0.4);
  animation: growLine 0.3s ease;
}
.v-connector--up {
  height: 30px;
  transform-origin: bottom;
}
.v-connector--down {
  height: 30px;
  transform-origin: top;
}

.h-connector {
  height: 2px;
  background: rgba(139, 111, 71, 0.4);
  animation: growLineH 0.4s ease;
  align-self: flex-start;
}

.couple-section {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  gap: 1.5rem;
  position: relative;
}
.couple-section__connector {
  width: 40px;
  height: 2px;
  background: rgba(212, 160, 86, 0.5);
  border-top: 2px dashed rgba(212, 160, 86, 0.5);
  align-self: center;
  margin-top: -20px;
}

.subtree {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  position: relative;
}

.siblings-row {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  gap: 24px;
  position: relative;
}
.siblings-row::before {
  content: "";
  position: absolute;
  top: -16px;
  left: 50%;
  width: 1px;
  height: 16px;
  background: rgba(139, 111, 71, 0.4);
  transform: translateX(-50%);
  animation: growLine 0.3s ease;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(232, 213, 163, 0.4);
}

::-webkit-scrollbar-thumb {
  background: rgba(139, 111, 71, 0.5);
  border-radius: 9999px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(92, 61, 46, 0.6);
}

::selection {
  background: rgba(74, 103, 65, 0.25);
  color: #3D2B1F;
}

:focus-visible {
  outline: 2px solid #4A6741;
  outline-offset: 2px;
  border-radius: 6px;
}

.tree-canvas {
  cursor: grab;
}
.tree-canvas:active {
  cursor: grabbing;
}
